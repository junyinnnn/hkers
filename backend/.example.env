# HKERS Application Environment Variables
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# =============================================================================
# Server Configuration
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=3000

# =============================================================================
# OIDC Configuration (REQUIRED for authentication)
# =============================================================================
# Provide your OIDC provider details (e.g., Auth0, Okta, Keycloak)
OIDC_ISSUER=''
OIDC_CLIENT_ID=''
OIDC_CLIENT_SECRET=''
OIDC_REDIRECT_URL='http://localhost:3000/auth/callback'
# Optional overrides
OIDC_SCOPES='openid,profile,email'
OIDC_END_SESSION_URL=''            # Optional: provider logout endpoint
OIDC_POST_LOGOUT_REDIRECT_URL=''   # Optional: where to send users after logout

# =============================================================================
# PostgreSQL Database Configuration
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_USER=pguser
POSTGRES_PASSWORD=pgpw
POSTGRES_DB=pgdb
POSTGRES_PORT=5432
POSTGRES_SSLMODE=require

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=redispw
REDIS_DB=0
REDIS_TLS_ENABLED=false
REDIS_TLS_INSECURE_SKIP_VERIFY=false

# =============================================================================
# Session Configuration
# =============================================================================
# Generate a strong secret for session encryption
# Run: ./scripts/generate-secret.sh (uses openssl rand -base64 32)
# Note: Sessions are only used for temporary OIDC flow state, not for authentication
SESSION_SECRET=

# =============================================================================
# JWT Configuration (for API authentication)
# =============================================================================
# JWT secret for signing tokens (if not set, uses SESSION_SECRET as fallback)
JWT_SECRET=
# JWT token duration (default: 168h = 7 days)
# Examples: 24h, 72h, 168h
JWT_DURATION=168h

# =============================================================================
# Application Environment
# =============================================================================
# Options: debug, release, test
GIN_MODE=release
TZ=UTC

# =============================================================================
# Optional: Development/Testing
# =============================================================================
# Uncomment for development
# GIN_MODE=debug

